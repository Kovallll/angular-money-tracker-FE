<div class="container">
  <controls [controlsProps]="controlsProps()" />
  <div class="header">
    <h2>Transactions</h2>
    <transaction-add-button />
  </div>
  <dashboard-card class="card">
    <card-body class="body">
      <ng-container class="table">
        <mat-tab-group
          [selectedIndex]="tabs.indexOf(tabFilter())"
          (selectedIndexChange)="onSelectedIndexChange($event)"
          class="tabs"
        >
          @for (tab of tabs; track tab) {
            <mat-tab [label]="tab" class="tab" />
          }
        </mat-tab-group>
        @if (isLoading()) {
          <p-progress-spinner />
        } @else {
          <table-component
            [dataSource]="currentTransactions()"
            [isEmpty]="isEmpty"
            [displayedCells]="displayedCells()"
            (onDelete)="handleDelete($event)"
            (onEdit)="handleEdit($event)"
          />
        }
      </ng-container>
    </card-body>
  </dashboard-card>
  <pagination />
</div>
